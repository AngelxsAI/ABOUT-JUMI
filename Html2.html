<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>JUMI - Grupo Juvenil Católico | Fe, Amor y Unidad en Cristo</title>
  
  <meta name="description" content="Grupo Juvenil Católico JUMI. Encuentra actividades, retiros, formación espiritual y comunidad. Fortalece tu fe y sirve a Cristo.">
  <meta name="keywords" content="Grupo Juvenil Católico, JUMI, Juventud Misionera, fe, religión, Cristo, eventos católicos, comunidad juvenil">
  <meta name="author" content="Angel">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,700;0,900;1,300&display=swap" rel="stylesheet">
  
  <style>
    /* ---------------------------------------------------- */
    /* 1. VARIABLES Y RESET */
    /* ---------------------------------------------------- */
    :root {
      --primary: #6a0dad; /* Morado JUMI */
      --accent: #00bcd4; /* Celeste JUMI */
      --secondary: #000;
      --background: #f8f8ff;
      --text-color: #333;
      --shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s ease;
      --warning: #d32f2f;
      /* Nuevas variables para resplandor */
      --glow-color-primary: rgba(106, 13, 173, 0.6);
      --glow-color-accent: rgba(0, 188, 212, 0.6);
      --glow-color-orange: rgba(255, 152, 0, 0.6);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Poppins', sans-serif;
    }

    body {
      background-color: var(--background);
      color: var(--text-color);
      line-height: 1.6;
      scroll-behavior: smooth;
    }

    a {
      text-decoration: none;
      color: var(--primary);
    }

    /* ---------------------------------------------------- */
    /* 2. ENCABEZADO Y NAVEGACIÓN */
    /* ---------------------------------------------------- */
    header {
      background: linear-gradient(135deg, var(--primary), #8f2fdc);
      color: white;
      padding: 25px 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      text-align: center;
    }
    .logo { display: flex; flex-direction: column; align-items: center; }
    .cruz-icon { width: 60px; height: 60px; fill: white; margin-bottom: 10px; filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0.5)); }
    header h1 { font-size: 2.5rem; font-weight: 900; letter-spacing: 3px; }
    .header-subtitle { font-size: 1rem; opacity: 0.9; margin-top: 5px; }
    .angel-credit { font-size: 0.85rem; font-style: italic; opacity: 0.7; margin-top: 5px; font-weight: 300; }

    .main-nav {
      position: sticky;
      top: 0;
      z-index: 1000;
      background-color: white;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    .nav-container { max-width: 1200px; margin: 0 auto; padding: 0 15px; }
    .nav-links { list-style: none; display: flex; justify-content: center; padding: 10px 0; flex-wrap: wrap; }
    .nav-links li a { color: var(--primary); padding: 10px 18px; display: block; font-weight: 600; border-radius: 25px; transition: var(--transition); font-size: 0.95em; }
    .nav-links li a:hover { background-color: var(--accent); color: white; transform: translateY(-2px); }
    .mobile-menu-btn { display: none; background: none; border: none; color: var(--primary); font-size: 1.5rem; padding: 15px; cursor: pointer; width: 100%; text-align: left; }

    /* ---------------------------------------------------- */
    /* 3. VERSÍCULO DEL DÍA */
    /* ---------------------------------------------------- */
    #versiculo-del-dia {
      background: linear-gradient(135deg, var(--accent), #7deaf9);
      color: white;
      padding: 25px 15px;
      text-align: center;
      box-shadow: var(--shadow);
      margin: 25px 0;
      border-radius: 15px;
    }
    .contenido-verso { max-width: 800px; margin: 0 auto; }
    .texto-verso { font-style: italic; font-size: 1.25rem; margin-bottom: 15px; font-weight: 500; }
    .referencia-verso { font-weight: 700; font-size: 1rem; opacity: 0.9; }
    .botones-compartir { margin-top: 20px; display: flex; justify-content: center; gap: 15px; }
    .btn-compartir { 
      background-color: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 25px; cursor: pointer; font-weight: 600; 
      transition: var(--transition); display: inline-flex; align-items: center; gap: 8px; 
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2);
    }
    .btn-compartir:hover { 
      background-color: #510a8d; transform: translateY(-2px);
      box-shadow: 0 0 15px var(--glow-color-primary), 0 0 30px var(--glow-color-primary); /* Resplandor */
    }

    /* ---------------------------------------------------- */
    /* 4. SECCIONES Y BOTONES GENERALES (Mejorados) */
    /* ---------------------------------------------------- */
    main { padding: 20px; max-width: 1200px; margin: 0 auto; }
    .section {
      background-color: white;
      padding: 35px;
      margin-bottom: 35px;
      border-radius: 12px;
      box-shadow: var(--shadow);
      opacity: 0; 
      transform: translateY(20px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    .section.visible { opacity: 1; transform: translateY(0); }
    .section h2 { color: var(--primary); margin-bottom: 25px; border-bottom: 3px solid var(--accent); padding-bottom: 10px; font-size: 1.8rem; }

    .btn-group { margin-top: 20px; display: flex; flex-wrap: wrap; gap: 15px; justify-content: center; }
    .btn { 
      padding: 12px 25px; border-radius: 50px; font-weight: 700; text-transform: uppercase; 
      transition: var(--transition); display: inline-flex; align-items: center; gap: 8px; 
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1); border: 2px solid transparent;
      position: relative; 
      overflow: hidden; 
      z-index: 1;
    }

    /* Efecto de resplandor general para botones */
    .btn::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        background: radial-gradient(circle, var(--glow-color-primary) 0%, transparent 70%);
        transition: width 0.4s ease, height 0.4s ease, top 0.4s ease, left 0.4s ease;
        transform: translate(-50%, -50%);
        opacity: 0;
        z-index: -1;
    }

    .btn:hover::before {
        width: 200%;
        height: 200%;
        opacity: 1;
    }

    .btn-primary { background-color: var(--primary); color: white; border-color: var(--primary); }
    .btn-primary:hover { 
      background-color: var(--accent); border-color: var(--accent); transform: scale(1.05); 
      box-shadow: 0 0 15px var(--glow-color-primary), 0 0 30px var(--glow-color-primary);
    }
    .btn-secondary { background-color: transparent; color: var(--primary); border-color: var(--primary); }
    .btn-secondary:hover { 
      background-color: var(--primary); color: white; 
      box-shadow: 0 0 15px var(--glow-color-primary), 0 0 30px var(--glow-color-primary);
    }
    .btn:disabled { opacity: 0.6; cursor: not-allowed; background-color: gray; border-color: gray; }

    /* ---------------------------------------------------- */
    /* 5. GENERADOR DE CARTELES */
    /* ---------------------------------------------------- */
    #generador-inspiracion { text-align: center; background-color: #e3f2fd; }
    #config-controls { 
        max-width: 600px; margin: 20px auto;
    }
    .control-group { 
        display: flex; flex-wrap: wrap; justify-content: space-between; gap: 15px; margin-bottom: 20px; 
    }
    #mensajeInput, #selectImagen {
        width: 100%;
        padding: 15px;
        border: 2px solid var(--accent);
        border-radius: 8px;
        transition: border-color 0.3s;
        font-size: 1rem;
        resize: vertical;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    }
    #mensajeInput { min-height: 100px; }
    #selectImagen { max-width: 100%; margin-bottom: 10px; } 

    /* Estilos para el nuevo selector de color */
    .color-selector {
        text-align: left;
        margin-top: 10px;
        width: 100%;
    }
    .color-circles {
        display: flex;
        gap: 15px;
        margin-top: 10px;
    }
    .color-circle {
        width: 35px;
        height: 35px;
        border-radius: 50%;
        border: 2px solid #ccc;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }
    .color-circle:hover {
        transform: scale(1.1);
        box-shadow: 0 0 0 4px var(--accent);
    }
    .color-circle.active {
        border-color: var(--primary);
        box-shadow: 0 0 0 5px var(--accent), 0 0 15px var(--glow-color-primary);
        animation: pulse-border 1s infinite alternate;
    }
    @keyframes pulse-border {
        0% { box-shadow: 0 0 0 5px rgba(0, 188, 212, 0.5); }
        100% { box-shadow: 0 0 0 8px rgba(0, 188, 212, 0.8); }
    }

    #error-message { color: var(--warning); font-weight: 600; margin-bottom: 15px; display: none; }
    #cartelContainer { margin-top: 30px; background-color: #fff; border-radius: 10px; padding: 15px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); display: none; }
    #cartelCanvas { max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 5px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); display: block; margin: 0 auto; }
    #compartirCartelBtn { 
      margin-top: 15px; background: linear-gradient(90deg, #ffc107, #ff9800); color: var(--secondary); border: none;
    }
    #compartirCartelBtn:hover { 
      background: linear-gradient(90deg, #ff9800, #ffc107); color: var(--secondary); 
      box-shadow: 0 0 15px var(--glow-color-orange), 0 0 30px var(--glow-color-orange); 
    }

    /* ---------------------------------------------------- */
    /* 6. LISTA DE MIEMBROS MEJORADA */
    /* ---------------------------------------------------- */
    .leadership-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 30px;
        margin-top: 20px;
        padding: 20px;
        border: 1px dashed var(--primary);
        border-radius: 10px;
    }
    .leadership-section h3 {
        color: var(--accent);
        margin-bottom: 15px;
        border-bottom: 1px solid #eee;
        padding-bottom: 5px;
        font-size: 1.2rem;
    }
    .members-list {
      list-style: none;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      padding: 0;
      text-align: center;
    }
    .members-list li {
      background-color: #f8f8f8;
      padding: 8px 15px;
      border-radius: 20px;
      font-weight: 600;
      color: var(--primary);
      box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
      transition: transform 0.2s;
    }
    .members-list li:hover { transform: translateY(-2px); }

    /* ---------------------------------------------------- */
    /* 7. CALENDARIO DINÁMICO (Mejorado y Animado) */
    /* ---------------------------------------------------- */
    .calendar-container {
        max-width: 450px; 
        margin: 20px auto;
        padding: 15px;
        background-color: #fcfcfc;
        border-radius: 8px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
    }
    .calendar-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        padding: 0 10px;
    }
    .calendar-header button {
        background: none;
        border: none;
        color: var(--primary);
        font-size: 1.2rem; 
        cursor: pointer;
        transition: color 0.3s, transform 0.3s;
        padding: 5px;
        border-radius: 50%;
    }
    .calendar-header button:hover { 
      color: var(--accent); transform: scale(1.1); 
      box-shadow: 0 0 10px var(--glow-color-primary); 
    }
    .calendar-header h3 { font-size: 1.3rem; color: var(--primary); }

    .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 3px; 
        font-size: 0.85rem; 
        text-align: center;
    }
    .day-name { font-weight: 700; color: var(--primary); padding: 5px 0; font-size: 0.8rem;}
    .day-cell {
        padding: 8px 0; 
        border-radius: 4px;
        cursor: pointer; 
        position: relative;
        overflow: hidden;
        transition: all 0.2s ease-out;
        aspect-ratio: 1 / 1; 
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
    }
    .day-cell.other-month { opacity: 0.4; pointer-events: none; } 
    .day-cell.current-day { 
        background-color: var(--accent); color: white; font-weight: 700; 
        box-shadow: 0 0 10px var(--glow-color-accent); 
    }
    .day-cell.current-day:hover { transform: scale(1.05); }

    .day-cell.sunday { 
        background-color: #ffe0b2; 
        color: var(--primary); font-weight: 600; 
        position: relative;
        animation: sunday-glow 2s infinite alternate; 
    }
    .day-cell.sunday.current-day { 
        background-color: var(--primary); 
        color: white; 
        animation: none; 
        box-shadow: 0 0 10px var(--glow-color-primary), 0 0 20px var(--glow-color-primary);
    }
    .day-cell.sunday:hover { transform: scale(1.05); background-color: var(--accent); color: white; }

    @keyframes sunday-glow {
        0% { box-shadow: 0 0 5px rgba(255, 180, 0, 0.4); }
        100% { box-shadow: 0 0 15px rgba(255, 180, 0, 0.7); }
    }

    .day-event {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: rgba(106, 13, 173, 0.8); 
        color: white;
        font-size: 0.6em; 
        padding: 1px 0;
        transform: translateY(100%);
        transition: transform 0.3s ease, opacity 0.3s ease;
        opacity: 0;
        pointer-events: none; 
    }
    .day-cell.sunday:hover .day-event { 
        transform: translateY(0); 
        opacity: 1; 
    }
    
    /* ---------------------------------------------------- */
    /* 8. FOOTER Y MEDIA QUERIES */
    /* ---------------------------------------------------- */
    iframe { width: 100%; height: 100%; border: 0; border-radius: 8px; }
    .map-container { height: 400px; margin-top: 20px; }
    
    footer { background-color: var(--primary); color: white; padding: 25px; text-align: center; border-top: 5px solid var(--accent); }
    .social-links { margin-bottom: 20px; }
    .social-links a { color: white; font-size: 1.8rem; margin: 0 12px; transition: var(--transition); }
    .social-links a:hover { color: var(--accent); transform: scale(1.2); }
    .copyright { font-size: 0.9rem; margin: 5px 0; }

    @media (min-width: 800px) {
        .leadership-grid { grid-template-columns: 1fr 1fr; }
    }
    @media (max-width: 800px) {
        .nav-links { display: none; flex-direction: column; width: 100%; padding: 0; text-align: center; }
        .nav-links.active { display: flex; }
        .mobile-menu-btn { display: block; }
        .btn-group { justify-content: space-around; }
        .btn { width: 48%; text-align: center; justify-content: center; font-size: 0.85rem; }
        header h1 { font-size: 1.8rem; }
        .calendar-container { max-width: 95%; } 
        .calendar-header h3 { font-size: 1.1rem; }
        .calendar-header button { font-size: 1rem; }
        .day-name { font-size: 0.7rem; }
        .day-cell { font-size: 0.8rem; padding: 6px 0; }
        .day-event { font-size: 0.55em; }
        .control-group { flex-direction: column; }
        #selectImagen { max-width: 100%; }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-content">
      <div class="logo">
        <svg class="cruz-icon" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <path d="M 40 0 L 60 0 L 60 40 L 100 40 L 100 60 L 60 60 L 60 100 L 40 100 L 40 60 L 0 60 L 0 40 L 0 40 L 40 40 L 40 0 Z" fill="white"/>
        </svg>
        <h1>JUMI</h1>
        <p class="header-subtitle">Grupo Juvenil Católico - Encuentra paz, amor y unidad en Cristo</p>
        <p class="angel-credit">Hecho por Ángel</p>
      </div>
    </div>
  </header>

  <nav class="main-nav">
    <div class="nav-container">
      <button class="mobile-menu-btn" id="mobileMenuBtn">
        <i class="fas fa-bars"></i> Menú
      </button>
      <ul class="nav-links" id="navLinks">
        <li><a href="#inicio"><i class="fas fa-home"></i> Inicio</a></li>
        <li><a href="#nosotros"><i class="fas fa-users"></i> Sobre Nosotros</a></li>
        <li><a href="#generador-inspiracion"><i class="fas fa-magic"></i> Cartel</a></li>
        <li><a href="#miembros"><i class="fas fa-user-friends"></i> Miembros</a></li>
        <li><a href="#eventos"><i class="fas fa-calendar-alt"></i> Eventos</a></li>
        <li><a href="#ubicacion"><i class="fas fa-map-marker-alt"></i> Ubicación</a></li>
      </ul>
    </div>
  </nav>

<div id="versiculo-del-dia"></div>

  <main>
    
    <section id="inicio" class="section">
      <h2><i class="fas fa-cross"></i> Bienvenidos a JUMI</h2>
      <p>JUMI es un espacio creado para jóvenes que buscan crecer en su fe católica, compartir experiencias y formar una comunidad basada en los valores cristianos. Aquí encontrarás un ambiente de amor, respeto y fraternidad donde podrás desarrollar tu espiritualidad.</p>
      <p>Nuestro objetivo es fortalecer la relación con Dios a través de la oración, el estudio de la Biblia y el servicio comunitario. Te invitamos a unirte a nuestras actividades y ser parte de esta maravillosa familia espiritual.</p>

      <div class="btn-group">
        <a href="https://whatsapp.com/channel/0029Vb5M9qLAu3aRABUHvq3q" class="btn btn-primary" target="_blank">
          <i class="fab fa-whatsapp"></i> Unirse al Canal
        </a>
      </div>
    </section>

    <section id="generador-inspiracion" class="section">
      <h2><i class="fas fa-paint-brush"></i> Generador de Carteles de Inspiración</h2>
      <p>Escribe tu mensaje y elige un fondo y color. El texto aparecerá en una zona segura para no cubrir rostros.</p>

      <div id="config-controls">
        
        <div class="control-group">
            <select id="selectImagen">
                <option value="Jesus.jpg" selected>Fondo 1 (Jesús principal)</option>
                <option value="Jesus2.jpg">Fondo 2 (Jesús y la niña)</option>
                <option value="Jesus3.jpg">Fondo 3 (Jesús en el campo)</option>
            </select>
        </div>

        <div class="color-selector">
            <p style="font-weight: 600; color: var(--primary); margin-bottom: 5px;"><i class="fas fa-palette"></i> Elige Color de Texto:</p>
            <div class="color-circles" id="colorCirclesContainer">
                </div>
        </div>

        <textarea id="mensajeInput" placeholder="Escribe tu mensaje de fe o reflexión..."></textarea>

        <p id="error-message"></p>
        <button id="generarCartelBtn" class="btn btn-primary" style="width: 100%;"><i class="fas fa-wand-magic-sparkles"></i> Generar Cartel</button>
      </div>

      <div id="cartelContainer">
        <h3>Vista Previa del Cartel</h3>
        <canvas id="cartelCanvas"></canvas>
        <button id="compartirCartelBtn" class="btn btn-primary" style="width: 100%; display: none;"><i class="fas fa-share-alt"></i> Compartir Cartel</button>
        <p style="font-size: 0.8em; margin-top: 10px; color: gray;">*El cartel incluye la foto, tu mensaje y el enlace de JUMI.</p>
      </div>
    </section>
    
    <section id="nosotros" class="section">
      <h2><i class="fas fa-church"></i> Sobre Nosotros</h2>
      <p>JUMI (Juventud Misionera) es un grupo católico juvenil dedicado a la formación espiritual de sus miembros. Nuestro nombre refleja nuestra devoción a la Virgen María y nuestro compromiso con la unidad en Cristo.</p>
      <p>Fundado en 2007, nuestro grupo ha crecido gracias al trabajo comprometido de jóvenes que comparten el deseo de profundizar en su fe y servir a la comunidad. Organizamos retiros espirituales, charlas formativas, actividades recreativas y proyectos de servicio social.</p>
      <p>Nuestro lema es "Juventud Misionera, Mas Alla De Las Fronteras", y bajo esta premisa buscamos crear un espacio inclusivo donde todos los jóvenes, sin importar su nivel de conocimiento religioso, puedan sentirse acogidos y acompañados en su camino de fe.</p>
    </section>

    <section id="miembros" class="section">
      <h2><i class="fas fa-users"></i> Estructura y Miembros</h2>
      <p>Conoce a los líderes y miembros activos que forman parte de nuestra comunidad JUMI, trabajando juntos para crecer en fe.</p>

      <div class="leadership-grid">
        <div class="leadership-section">
            <h3><i class="fas fa-crown"></i> Coordinador</h3>
            <ul class="members-list">
                <li>Rudy</li>
   
            </ul>
        </div>
        <div class="leadership-section">
            <h3><i class="fas fa-user-tag"></i> Subcoordinador</h3>
            <ul class="members-list">
                <li>Steven</li>
            </ul>
        </div>
        <div class="leadership-section" style="grid-column: 1 / -1;">
            <h3><i class="fas fa-user-friends"></i> Miembros Activos</h3>
            <ul class="members-list">
                <li>Angel</li>
                <li>Kevin</li>
                <li>Natalia</li>
                <li>Jaime</li>
                <li>Jessica</li>
                <li>Gissela</li>
                <li>Michael</li>
                <li>Oscar Nieto</li>
                <li>Mauricio</li>
                <li>Katty</li>
                <li>Daniel</li>
                <li>Oscar Cheguen</li>
                <li>Nicol González</li>
                <li>Erika</li>
                
            </ul>
        </div>
      </div>

      <p style="margin-top: 1.5rem; font-style: italic;">"Porque donde dos o tres se reúnen en mi nombre, allí estoy yo en medio de ellos." - Mateo 18:20</p>
    </section>

    <section id="eventos" class="section">
      <h2><i class="fas fa-calendar-alt"></i> Calendario de Reuniones</h2>
      <p>Nuestro calendario resalta el día actual y marca todas nuestras reuniones de formación (todos los domingos). ¡Te esperamos con alegría!</p>

      <div class="calendar-container">
        <div class="calendar-header">
            <button id="prevMonthBtn"><i class="fas fa-chevron-left"></i></button>
            <h3 id="monthYearDisplay"></h3>
            <button id="nextMonthBtn"><i class="fas fa-chevron-right"></i></button>
        </div>
        <div class="calendar-grid" id="calendarGrid">
            <div class="day-name">Dom</div>
            <div class="day-name">Lun</div>
            <div class="day-name">Mar</div>
            <div class="day-name">Mié</div>
            <div class="day-name">Jue</div>
            <div class="day-name">Vie</div>
            <div class="day-name">Sáb</div>
            </div>
      </div>
    </section>

    <section id="ubicacion" class="section">
      <h2><i class="fas fa-map-marked-alt"></i> Ubicación</h2>
      <p>Nuestras reuniones se llevan a cabo en la Iglesia Católica de la Colonia San Francisco Guajoyo. ¡Ven y únete a nosotros!</p>

      <div class="map-container">
        <iframe 
          src="https://maps.google.com/maps?q=Iglesia%20Católica%20Colonia%20San%20Francisco%20Guajoyo&t=&z=15&ie=UTF8&iwloc=&output=embed" 
          title="Ubicación de JUMI"
          allowfullscreen="" 
          loading="lazy">
        </iframe>
      </div>

      <div class="btn-group" style="margin-top: 1.5rem;">
        <a href="https://maps.app.goo.gl/TU_ENLACE_A_DIRECCIONES_AQUÍ" class="btn btn-primary" target="_blank">
          <i class="fas fa-directions"></i> Cómo llegar
        </a>
      </div>
    </section>
  </main>

  <footer>
    <div class="footer-content">
      <div class="social-links">
        <a href="https://www.instagram.com/jumi_medalla.milagrosa?igsh=MXVsdmV0ZTR2bW40ZA==" target="_blank" aria-label="Instagram JUMI"><i class="fab fa-instagram"></i></a>
        <a href="https://whatsapp.com/channel/0029Vb5M9qLAu3aRABUHvq3q" target="_blank" aria-label="Canal WhatsApp"><i class="fab fa-whatsapp"></i></a>
        <a href="mailto:orgjumi@gmail.com" target="_blank" aria-label="Correo electrónico"><i class="fas fa-envelope"></i></a>
      </div>
      <p class="copyright">© 2025 JUMI - Juventud Misionera</p>
      <p class="copyright">Desarrollado con amor por Angel para la comunidad JUMI</p>
    </div>
  </footer>


<script>
    // ----------------------------------------------------
    // 1. CONSTANTES GLOBALES Y CONFIGURACIÓN
    // ----------------------------------------------------
    const URL_JUMI = "https://about-jumi.vercel.app/";
    const CARTEL_WIDTH = 800;
    const CARTEL_HEIGHT = 600;
    const COLORS = [
        { name: "Blanco", hex: "#FFFFFF" },
        { name: "Amarillo Claro", hex: "#FFFFA0" },
        { name: "Celeste JUMI", hex: "#00BCD4" },
        { name: "Morado JUMI", hex: "#6a0dad" }, // Nuevo color Morado
        { name: "Naranja", hex: "#FF9800" } // Nuevo color Naranja
    ];

    // --- Configuración de Imágenes y Zonas Seguras (¡Jesus.jpg CORREGIDO!) ---
    const IMAGENES_DISPONIBLES = {
        "Jesus.jpg": { 
            nombre: "Jesus.jpg", 
            safeAreaTop: 0.05, 
            safeAreaBottom: 0.50 
        },
        "Jesus2.jpg": { 
            nombre: "Jesus2.jpg", 
            safeAreaTop: 0.05, 
            safeAreaBottom: 0.50 
        },
        "Jesus3.jpg": { 
            nombre: "Jesus3.jpg", 
            safeAreaTop: 0.05, 
            safeAreaBottom: 0.35 
        }
    };
    
    // --- Sistema de Censura Reforzado (Revisado) ---
    const GROSERIAS_BLOQUEO = [
        "mierda", "puta", "cabron", "coño", "joder", "gilipollas", 
        "pendejo", "idiota", "carajo", "verga", "chinga", "puto", "coger", 
        "mamada", "pito", "culero", "vagina", "culo", "teta", "sexo", 
        "porn", "pene", "gay", "homosexual", "maricon", "lesbiana", "trans", 
        "bisexual", "fuck", "shit", "bitch", "bastard"
    ];

    // Variables de estado
    let cartelImage = null;
    let imagenActualKey = "Jesus.jpg"; // ¡CORREGIDO: Predeterminado a Jesus.jpg!
    let currentColorHex = COLORS[0].hex; // Empieza en Blanco
    let currentCalendarDate = new Date();


    // ----------------------------------------------------
    // 2. UTILIDADES GENERALES
    // ----------------------------------------------------

    /**
     * Limpia y normaliza el texto para detección de groserías.
     * @param {string} texto 
     * @returns {string} Texto limpio (minúsculas, sin acentos, sin leetspeak).
     */
    function limpiarTexto(texto) {
        let textoLimpio = texto.trim().toLowerCase();
        // Eliminar acentos
        textoLimpio = textoLimpio.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        // Intentar detectar leetspeak común (sustituir 0, 1, 3, 4, 5, 7 por letras)
        textoLimpio = textoLimpio.replace(/0/g, 'o').replace(/1/g, 'l').replace(/3/g, 'e').replace(/4/g, 'a').replace(/5/g, 's').replace(/7/g, 't');
        
        return textoLimpio;
    }

    /**
     * Detecta si el texto contiene alguna grosería de la lista de bloqueo.
     * @param {string} texto
     * @returns {boolean}
     */
    function contieneGroserias(texto) {
        const textoLimpio = limpiarTexto(texto);
        for (const groseria of GROSERIAS_BLOQUEO) {
            // Usa RegExp para buscar la palabra completa (\b) O si está contenida
            const regex = new RegExp(`\\b${groseria}\\b|${groseria}`, 'i'); 
            if (regex.test(textoLimpio)) {
                return true;
            }
        }
        return false;
    }

    /**
     * Muestra un mensaje de error en el generador de carteles.
     * @param {string} message
     */
    function showError(message) {
        const errorEl = document.getElementById('error-message');
        errorEl.textContent = message;
        errorEl.style.display = 'block';
        document.getElementById('cartelContainer').style.display = 'none';
        document.getElementById('compartirCartelBtn').style.display = 'none';

        setTimeout(() => {
            errorEl.style.display = 'none';
        }, 8000); 
    }
    
    /**
     * Precarga la imagen seleccionada y actualiza la variable global.
     * @returns {Promise<boolean>} Resuelve a true si carga con éxito, false en caso de fallo.
     */
    function precargarImagen() {
        return new Promise(resolve => {
            const selectedImageKey = document.getElementById('selectImagen').value;
            const imagenData = IMAGENES_DISPONIBLES[selectedImageKey];
            
            // Actualizar el estado global
            imagenActualKey = selectedImageKey;

            const img = new Image();
            img.crossOrigin = 'Anonymous'; 
            img.src = imagenData.nombre; 

            img.onload = () => {
                cartelImage = img;
                resolve(true); // Carga exitosa
            };
            img.onerror = () => {
                cartelImage = null; // Marcar como fallida
                resolve(false); // Carga fallida
            };
        });
    }

    // ----------------------------------------------------
    // 3. GESTOR DE VERSÍCULO
    // ----------------------------------------------------
    const gestorVersiculo = {
        versiculos: [
          { texto: "A toda perfección le he visto límite, pero tus mandamientos son ilimitados.", referencia: "Salmos 119:96" },
          { texto: "Pedid, y se os dará; buscad, y hallaréis; llamad, y se os abrirá.", referencia: "Mateo 7:7" },
          { texto: "El Señor es mi pastor, nada me faltará.", referencia: "Salmos 23:1" },
          { texto: "Todo lo puedo en Cristo que me fortalece.", referencia: "Filipenses 4:13" },
          { texto: "Porque donde dos o tres se reúnen en mi nombre, allí estoy yo en medio de ellos.", referencia: "Mateo 18:20" }
        ],
        async cargarVersiculo() {
          try {
            const respuesta = await fetch('https://beta.ourmanna.com/api/v1/get/?format=json&version=RVR1960');
            if (!respuesta.ok) throw new Error('Error API');
            const data = await respuesta.json();
            const texto = data.verse.details.text;
            if (texto && !/you|your|the|is|of|and|but/i.test(texto)) {
                this.mostrarVersiculo(data.verse.details.text, data.verse.details.reference);
            } else {
                throw new Error('Versículo no válido');
            }
          } catch (error) {
            this.usarVersiculoLocal();
          }
        },
        usarVersiculoLocal() {
          const hoy = new Date();
          const indice = hoy.getDate() % this.versiculos.length; 
          this.mostrarVersiculo(
            this.versiculos[indice].texto,
            this.versiculos[indice].referencia
          );
        },
        mostrarVersiculo(texto, referencia) {
          const contenedor = document.getElementById('versiculo-del-dia');
          if (!contenedor) return; 

          contenedor.innerHTML = `
            <div class="contenido-verso">
              <p class="texto-verso">"${texto}"</p>
              <p class="referencia-verso">${referencia}</p>
              <div class="botones-compartir">
                <button class="btn-compartir" onclick="compartirVersiculo()">
                  <i class="fas fa-share"></i> Compartir
                </button>
                <a href="https://wa.me/?text=${encodeURIComponent(`Versículo del Día JUMI: "${texto}" - ${referencia} \nConoce más en: ${URL_JUMI}`)}" 
                   class="btn-compartir" 
                   target="_blank">
                  <i class="fab fa-whatsapp"></i> WhatsApp
                </a>
              </div>
            </div>
          `;
        }
    };
    
    function compartirVersiculo() {
        const texto = document.querySelector('.texto-verso').textContent;
        const referencia = document.querySelector('.referencia-verso').textContent;
        const textoFinal = `Versículo del Día JUMI: ${texto} - ${referencia}\n\nConoce más en: ${URL_JUMI}`;
        
        if (navigator.share) {
          navigator.share({ title: 'Versículo del Día - JUMI', text: textoFinal })
            .catch(error => { /* Manejo de error silencioso */ });
        } else {
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(textoFinal)}`;
            window.open(whatsappUrl, '_blank');
        }
    }

    // ----------------------------------------------------
    // 4. FUNCIONALIDAD DEL GENERADOR DE CARTELES
    // ----------------------------------------------------

    /**
     * Renderiza los círculos de colores y configura sus eventos.
     */
    function renderColorSelector() {
        const container = document.getElementById('colorCirclesContainer');
        if (!container) return;

        container.innerHTML = ''; // Limpiar contenedores
        
        COLORS.forEach((color, index) => {
            const circle = document.createElement('div');
            circle.className = 'color-circle';
            circle.style.backgroundColor = color.hex;
            circle.setAttribute('data-color-hex', color.hex);
            circle.setAttribute('title', color.name);

            // Marcar el color inicial como activo
            if (color.hex === currentColorHex) {
                circle.classList.add('active');
            }

            circle.addEventListener('click', () => {
                selectColor(circle, color.hex);
            });
            
            container.appendChild(circle);
        });
    }

    /**
     * Selecciona el color de texto para el cartel.
     * @param {HTMLElement} clickedCircle El círculo que fue clickeado.
     * @param {string} hex El código hexadecimal del color.
     */
    function selectColor(clickedCircle, hex) {
        currentColorHex = hex;
        
        // Remover 'active' de todos los círculos
        document.querySelectorAll('.color-circle').forEach(c => c.classList.remove('active'));
        
        // Agregar 'active' al círculo clickeado
        clickedCircle.classList.add('active');

        // Regenerar el cartel si ya se había generado para aplicar el nuevo color
        if (document.getElementById('cartelContainer').style.display !== 'none') {
            generarCartelInspiracion(true);
        }
    }


    /**
     * Dibuja el cartel en el Canvas con el texto y la imagen seleccionados.
     * @param {boolean} isRegenerate Indica si solo se está regenerando (no re-valida).
     */
    async function generarCartelInspiracion(isRegenerate = false) {
        const mensajeInput = document.getElementById('mensajeInput');
        const mensaje = mensajeInput.value.trim();
        const canvas = document.getElementById('cartelCanvas');
        const ctx = canvas.getContext('2d');
        const cartelContainer = document.getElementById('cartelContainer');
        const compartirBtn = document.getElementById('compartirCartelBtn');
        const generarBtn = document.getElementById('generarCartelBtn');
        
        document.getElementById('error-message').style.display = 'none';
        generarBtn.disabled = true;

        if (!isRegenerate) {
            if (!mensaje) {
                generarBtn.disabled = false;
                return showError("¡El mensaje no puede estar vacío! Escribe algo de inspiración.");
            }
            if (contieneGroserias(mensaje)) {
                generarBtn.disabled = false;
                return showError("⚠️ ¡El mensaje contiene palabras no permitidas! Por favor, elimina cualquier grosería o contenido sensible.");
            }
            // Precargar solo si no es regeneración
            await precargarImagen(); 
        }
        
        // --- Configuración y DIBUJO ---
        canvas.width = CARTEL_WIDTH;
        canvas.height = CARTEL_HEIGHT;
        ctx.clearRect(0, 0, CARTEL_WIDTH, CARTEL_HEIGHT);
        
        let imgToDraw = cartelImage;
        const imagenData = IMAGENES_DISPONIBLES[imagenActualKey];

        if (imgToDraw) {
            // Dibujar imagen de fondo
            const scale = Math.max(CARTEL_WIDTH / imgToDraw.width, CARTEL_HEIGHT / imgToDraw.height);
            const x = (CARTEL_WIDTH / 2) - (imgToDraw.width / 2) * scale;
            const y = (CARTEL_HEIGHT / 2) - (imgToDraw.height / 2) * scale;
            ctx.drawImage(imgToDraw, x, y, imgToDraw.width * scale, imgToDraw.height * scale);
            
            // Capa semi-transparente
            ctx.fillStyle = 'rgba(0, 0, 0, 0.4)';
            ctx.fillRect(0, 0, CARTEL_WIDTH, CARTEL_HEIGHT);

        } else {
            // FALLBACK DE ERROR: Fondo Blanco
            ctx.fillStyle = '#FFFFFF';
            ctx.fillRect(0, 0, CARTEL_WIDTH, CARTEL_HEIGHT);
            
            ctx.fillStyle = 'black';
            ctx.textAlign = 'center';
            ctx.font = '700 30px Poppins';
            ctx.fillText("El sistema está en mantenimiento o tiene fallas.", CARTEL_WIDTH / 2, CARTEL_HEIGHT / 2 - 20);
            ctx.font = '400 20px Poppins';
            ctx.fillText("Volvemos luego. Intente con otra imagen.", CARTEL_WIDTH / 2, CARTEL_HEIGHT / 2 + 20);
        }

        // --- Dibujar el Mensaje (en la zona segura) ---
        ctx.fillStyle = currentColorHex; // Usar el color seleccionado (HEX)
        ctx.textAlign = 'center';
        ctx.strokeStyle = 'rgba(0, 0, 0, 0.8)';
        ctx.lineWidth = 2;
        
        const safeAreaTop = CARTEL_HEIGHT * imagenData.safeAreaTop;
        const safeAreaBottom = CARTEL_HEIGHT * imagenData.safeAreaBottom;
        const maxTextWidth = CARTEL_WIDTH - 100;

        let currentFontSize = 48;
        let lineHeight = currentFontSize * 1.2;
        let lines = [];

        // Función para calcular y ajustar líneas
        const calculateLines = (text, fontSize) => {
            ctx.font = `700 ${fontSize}px Poppins`;
            const words = text.split(' ');
            let tempLines = [];
            let tempLine = '';
            for(let n = 0; n < words.length; n++) {
                const testLine = tempLine + words[n] + ' ';
                if (ctx.measureText(testLine).width > maxTextWidth && n > 0) {
                    tempLines.push(tempLine.trim());
                    tempLine = words[n] + ' ';
                } else {
                    tempLine = testLine;
                }
            }
            tempLines.push(tempLine.trim());
            return tempLines;
        };

        // Bucle para ajustar la fuente al área segura
        do {
            lines = calculateLines(mensaje, currentFontSize);
            lineHeight = currentFontSize * 1.2;
            const totalTextHeight = lines.length * lineHeight;
            if (totalTextHeight < (safeAreaBottom - safeAreaTop - (lineHeight * 0.5))) { break; }
            currentFontSize -= 2;
        } while (currentFontSize >= 24);

        if (currentFontSize < 24) {
            currentFontSize = 24; 
            lineHeight = currentFontSize * 1.2;
            lines = calculateLines(mensaje, currentFontSize); 
        }

        const totalTextHeight = lines.length * lineHeight;
        let startY = safeAreaTop + (safeAreaBottom - safeAreaTop - totalTextHeight) / 2 + (lineHeight * 0.8);

        ctx.font = `700 ${currentFontSize}px Poppins`;

        lines.forEach((line, index) => {
            const y = startY + index * lineHeight;
            // Dibujar borde/sombra
            ctx.strokeText(line, CARTEL_WIDTH / 2, y);
            // Dibujar texto
            ctx.fillText(line, CARTEL_WIDTH / 2, y);
        });

        // 4. Dibujar el Enlace de Atribución 
        ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
        ctx.textAlign = 'right';
        ctx.font = '200 18px Poppins';
        ctx.fillText(`Visítanos: ${URL_JUMI}`, CARTEL_WIDTH - 20, CARTEL_HEIGHT - 20);

        // Mostrar el cartel
        cartelContainer.style.display = 'block';
        compartirBtn.style.display = 'block';
        generarBtn.disabled = false;
    }

    /**
     * Intenta compartir o descarga la imagen del canvas.
     */
    async function compartirCartel() {
        const canvas = document.getElementById('cartelCanvas');
        const mensaje = document.getElementById('mensajeInput').value.trim();

        try {
            const blob = await new Promise(resolve => canvas.toBlob(resolve, 'image/jpeg', 0.9));
            if (!blob) throw new Error("Fallo al crear el Blob.");

            const file = new File([blob], "Cartel_JUMI.jpg", { type: 'image/jpeg' });
            
            const shareData = {
                title: "Inspiración JUMI",
                text: `¡Mira mi mensaje de fe!\n\n${mensaje}\n\nConoce JUMI: ${URL_JUMI}`,
                files: [file]
            };

            if (navigator.canShare && navigator.canShare(shareData)) {
                await navigator.share(shareData);
            } else {
                throw new Error("Navegador no soporta compartir nativamente.");
            }
        } catch (err) {
            // Fallback: Descargar la imagen
            const imageURL = canvas.toDataURL('image/jpeg', 0.9);
            const a = document.createElement('a');
            a.href = imageURL;
            a.download = 'Cartel_Inspiracion_JUMI.jpg';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            showError("Tu navegador no soporta compartir directamente. Se ha descargado la imagen.");
        }
    }


    // ----------------------------------------------------
    // 5. CALENDARIO DINÁMICO (Genera Reuniones Dominicales)
    // ----------------------------------------------------

    const NOMBRES_MESES = ["Enero", "Febrero", "Marzo", "Abril", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
    const NOMBRES_DIAS = ["Dom", "Lun", "Mar", "Mié", "Jue", "Vie", "Sáb"];

    function renderCalendar(date) {
        const year = date.getFullYear();
        const month = date.getMonth();
        const today = new Date();
        
        // 1. Mostrar Mes y Año
        document.getElementById('monthYearDisplay').textContent = `${NOMBRES_MESES[month]} ${year}`;

        const grid = document.getElementById('calendarGrid');
        // Eliminar solo las celdas de días (mantener los nombres de días)
        const oldCells = grid.querySelectorAll('.day-cell');
        oldCells.forEach(cell => cell.remove());
        
        const firstDayOfMonth = new Date(year, month, 1);
        const daysInMonth = new Date(year, month + 1, 0).getDate();
        // 0 = Domingo, 1 = Lunes, etc.
        let startingDayOfWeek = firstDayOfMonth.getDay(); 
        
        // Días del mes anterior (para rellenar el inicio)
        const daysInPrevMonth = new Date(year, month, 0).getDate();

        // 2. Rellenar celdas del mes anterior
        for (let i = startingDayOfWeek - 1; i >= 0; i--) {
            const cell = document.createElement('div');
            cell.className = 'day-cell other-month';
            cell.textContent = daysInPrevMonth - i;
            grid.appendChild(cell);
        }

        // 3. Rellenar celdas del mes actual
        for (let day = 1; day <= daysInMonth; day++) {
            const cell = document.createElement('div');
            cell.className = 'day-cell';
            cell.textContent = day;
            
            const currentDayOfWeek = (startingDayOfWeek + day - 1) % 7;

            // Marcar día actual
            if (day === today.getDate() && month === today.getMonth() && year === today.getFullYear()) {
                cell.classList.add('current-day');
            }

            // Marcar Domingos (Día 0)
            if (currentDayOfWeek === 0) {
                cell.classList.add('sunday');
                cell.innerHTML += `<span class="day-event">Reunión JUMI</span>`;
            }

            grid.appendChild(cell);
        }

        // 4. Rellenar celdas del mes siguiente
        const totalCells = startingDayOfWeek + daysInMonth;
        const remainingCells = 42 - totalCells; // 6 filas completas de 7 días
        for (let day = 1; day <= remainingCells; day++) {
            const cell = document.createElement('div');
            cell.className = 'day-cell other-month';
            cell.textContent = day;
            grid.appendChild(cell);
        }
    }

    function changeMonth(delta) {
        currentCalendarDate.setMonth(currentCalendarDate.getMonth() + delta);
        renderCalendar(currentCalendarDate);
    }
    
    
    // ----------------------------------------------------
    // 6. INICIALIZACIÓN DE EVENTOS
    // ----------------------------------------------------

    document.addEventListener('DOMContentLoaded', () => {
        // --- Inicializar Funcionalidades ---
        gestorVersiculo.cargarVersiculo();
        renderCalendar(currentCalendarDate); 
        renderColorSelector(); // ¡Nuevo selector de color!
        precargarImagen(); // Precarga la imagen por defecto

        // --- Eventos de Navegación y Scroll ---
        document.getElementById('mobileMenuBtn').addEventListener('click', () => {
          document.getElementById('navLinks').classList.toggle('active');
        });

        document.querySelectorAll('nav a').forEach(anchor => {
          anchor.addEventListener('click', function(e) {
            e.preventDefault();
            document.getElementById('navLinks').classList.remove('active'); 
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
               window.scrollTo({ top: target.offsetTop - 100, behavior: 'smooth' });
            }
          });
        });

        // --- Eventos del Generador de Carteles ---
        document.getElementById('generarCartelBtn').addEventListener('click', () => generarCartelInspiracion());
        document.getElementById('compartirCartelBtn').addEventListener('click', compartirCartel);
        
        // Regenerar si cambia la imagen
        document.getElementById('selectImagen').addEventListener('change', async () => {
            await precargarImagen(); // Cargar la nueva imagen
            if (document.getElementById('cartelContainer').style.display !== 'none') {
                generarCartelInspiracion(true); // Regenerar cartel con la nueva imagen
            }
        });

        // --- Eventos del Calendario ---
        document.getElementById('prevMonthBtn').addEventListener('click', () => changeMonth(-1));
        document.getElementById('nextMonthBtn').addEventListener('click', () => changeMonth(1));

        // --- Animación de Secciones ---
        const observer = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('visible');
              observer.unobserve(entry.target);
            }
          });
        }, { threshold: 0.1 });

        document.querySelectorAll('.section').forEach(seccion => {
          observer.observe(seccion);
        });
    });
  </script>
</body>
</html>